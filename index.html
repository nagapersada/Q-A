<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>DVNP Q&A</title>
    
    <meta name="theme-color" content="#8A2BE2"/>
    <link rel="manifest" href="manifest.json">
    <link rel="apple-touch-icon" href="icons/icon-192x192.png">

    <style>
        /* === RESET DASAR === */
        html, body {
            margin: 0;
            padding: 0;
            height: 100%;
            width: 100%;
            background-color: #000;
            font-family: sans-serif;
            color: white;
            overflow: hidden; /* Body diam, yang gerak slide-nya */
        }

        /* === LOGIKA SLIDE (PENTING) === */
        .slide {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            
            /* Background Gambar */
            background: url('images/1000173031.jpg') no-repeat center center;
            background-size: cover;
            
            /* Lapisan gelap agar tulisan terbaca */
            box-shadow: inset 0 0 0 2000px rgba(0, 0, 0, 0.7);

            /* Default: Sembunyi */
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.3s ease;
            z-index: 1;

            /* AGAR BISA SCROLL DI SEMUA LAYAR */
            overflow-y: auto; 
            -webkit-overflow-scrolling: touch;
            
            /* Flexbox untuk menata isi */
            display: flex;
            flex-direction: column;
            align-items: center;
        }

        /* Slide Aktif */
        .slide.active {
            opacity: 1;
            visibility: visible;
            z-index: 10;
        }

        /* === ISI KONTEN (CONTAINER) === */
        .container {
            width: 100%;
            max-width: 600px;
            padding: 20px;
            box-sizing: border-box;
            text-align: center;
            
            /* Agar konten punya ruang vertikal */
            min-height: 100%; 
            display: flex;
            flex-direction: column;
            justify-content: center; /* Default Portrait: Tengah */
        }

        /* === ELEMEN UTAMA === */
        .team-logo {
            width: 120px;
            height: auto;
            border-radius: 10px;
            margin: 0 auto 20px auto;
            display: block;
        }

        h1 { font-size: 1.5rem; margin-bottom: 10px; color: #ff8c00; }
        p { font-size: 0.95rem; line-height: 1.5; margin-bottom: 30px; }

        button {
            padding: 12px 25px;
            background: #ff6b00;
            color: white;
            border: none;
            border-radius: 50px;
            font-size: 1rem;
            font-weight: bold;
            cursor: pointer;
            margin: 10px 0;
        }

        /* === PLAYER & LIST === */
        #audioPlayer { width: 100%; margin: 15px 0; border-radius: 50px; }
        
        #playlist {
            list-style: none;
            padding: 0;
            text-align: left;
            margin-top: 20px;
            padding-bottom: 50px; /* Jarak bawah aman */
        }

        #playlist li {
            background: rgba(255, 255, 255, 0.1);
            padding: 15px;
            margin-bottom: 10px;
            border-radius: 8px;
            border-left: 4px solid transparent;
            cursor: pointer;
        }
        #playlist li:hover { background: rgba(255, 255, 255, 0.2); }
        #playlist li.active { border-left-color: #ff6b00; background: rgba(255, 107, 0, 0.15); }

        /* === MODAL NARASI === */
        #lyricsOverlay {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.9); z-index: 100;
            display: flex; justify-content: center; align-items: center;
            backdrop-filter: blur(5px);
        }
        .hidden { display: none !important; }
        .lyrics-modal {
            background: #222; padding: 20px; border-radius: 15px;
            width: 85%; max-height: 80%; overflow-y: auto;
            text-align: left; position: relative; border: 1px solid #444;
        }
        #closeLyricsBtn {
            position: absolute; top: 10px; right: 10px;
            background: transparent; color: #aaa; font-size: 1.5rem; padding: 0; margin: 0;
        }

        /* ========================================= */
        /* === PERBAIKAN KHUSUS LANDSCAPE === */
        /* ========================================= */
        @media (max-height: 500px) {
            .container {
                /* Matikan rata tengah vertikal */
                justify-content: flex-start; 
                padding-top: 20px;
            }
            
            .team-logo { width: 80px; margin-bottom: 10px; }
            h1 { font-size: 1.2rem; margin-bottom: 5px; }
            p { font-size: 0.9rem; margin-bottom: 15px; display: none; /* Sembunyikan teks intro biar lega */ }
            
            /* Tombol Enter di Slide 1 */
            #enterBtn { margin-top: 5px; }

            /* List di Slide 2 */
            #playlist li { padding: 10px; font-size: 0.9rem; }
            #showLyricsBtn { padding: 8px 20px; font-size: 0.9rem; margin-bottom: 10px; }
        }
    </style>
</head>
<body>

    <div id="slide1" class="slide active">
        <div class="container">
            <img src="images/1000173031.jpg" alt="Logo Tim" class="team-logo">
            <h1>Pusat Tanya Jawab (Q&A)</h1>
            <p>Selamat datang, Pejuang! Dengarkan pertanyaan dan temukan jawabannya untuk memperkuat pemahaman Anda.</p>
            <button id="enterBtn">Mulai Sesi Q&A</button>
        </div>
    </div>

    <div id="slide2" class="slide">
        <div class="container">
            <div style="text-align: left; width: 100%;">
                <button id="backBtn" style="background:none; border:1px solid #fff; padding: 5px 15px; font-size: 0.8rem;">&larr; Kembali</button>
            </div>

            <audio id="audioPlayer" controls></audio>
            <div id="nowPlaying" style="color: #ffcc00; font-size: 0.9rem; margin-bottom: 10px; font-style: italic;">Pilih pertanyaan di bawah...</div>
            
            <button id="showLyricsBtn" style="background: transparent; border: 1px solid #ff6b00; color: #ff6b00;">Tampilkan Narasi Jawaban</button>
            
            <ul id="playlist">
                </ul>
        </div>
    </div>

    <div id="lyricsOverlay" class="hidden">
        <div class="lyrics-modal">
            <button id="closeLyricsBtn">&times;</button>
            <h3 id="lyricsTitle" style="margin-top:0; color:#ff6b00;">Judul Pertanyaan</h3>
            <div id="lyricsContent" style="line-height: 1.6; color: #ddd;"></div>
        </div>
    </div>

    <script>
        // DATA Q&A (Gunakan data ini atau sesuaikan dengan file mp3 Anda)
        const qaData = [
            { title: "1. Kenapa harus bergabung via DV TEAM?", audio: "audio/qna1.mp3", text: "Karena DV TEAM menyediakan support system lengkap, materi edukasi, dan alat bantu promosi agar Anda tidak bekerja sendirian." },
            { title: "2. Cara mulai bagi pemula?", audio: "audio/qna2.mp3", text: "Ikuti Fase 1. Gunakan alat bantu kalkulator dan skrip yang tersedia. Tugas Anda hanya mengundang, biarkan alat bantu yang menjelaskan." },
            { title: "3. Keuntungan Upgrade Level?", audio: "audio/qna3.mp3", text: "Upgrade level membuka potensi bonus lebih besar, akses sinyal prioritas, dan bonus matching dari kedalaman tim." },
            { title: "4. Strategi paling efektif?", audio: "audio/qna4.mp3", text: "Gunakan strategi Faktor Kali. Ajak 5 orang, bantu mereka ajak 5 lagi. Lakukan duplikasi sederhana." }
        ];

        // ELEMENT
        const slide1 = document.getElementById('slide1');
        const slide2 = document.getElementById('slide2');
        const audioPlayer = document.getElementById('audioPlayer');
        const playlistEl = document.getElementById('playlist');
        const nowPlaying = document.getElementById('nowPlaying');
        
        // MODAL ELEMENTS
        const overlay = document.getElementById('lyricsOverlay');
        const lTitle = document.getElementById('lyricsTitle');
        const lContent = document.getElementById('lyricsContent');
        let currentItem = null;

        // NAVIGASI
        document.getElementById('enterBtn').onclick = () => {
            slide1.classList.remove('active');
            slide2.classList.add('active');
        };
        document.getElementById('backBtn').onclick = () => {
            slide2.classList.remove('active');
            slide1.classList.add('active');
            audioPlayer.pause();
        };

        // RENDER PLAYLIST
        playlistEl.innerHTML = '';
        qaData.forEach((item, idx) => {
            let li = document.createElement('li');
            li.innerText = item.title;
            li.onclick = () => {
                // Hapus kelas active lama
                document.querySelectorAll('#playlist li').forEach(l => l.classList.remove('active'));
                li.classList.add('active');
                
                // Play Audio
                currentItem = item;
                audioPlayer.src = item.audio;
                nowPlaying.innerText = "Memutar: " + item.title;
                audioPlayer.play().catch(e => console.log("Autoplay blocked"));
            };
            playlistEl.appendChild(li);
        });

        // MODAL LOGIC
        document.getElementById('showLyricsBtn').onclick = () => {
            if(!currentItem) return alert("Pilih pertanyaan dulu!");
            lTitle.innerText = currentItem.title;
            lContent.innerText = currentItem.text;
            overlay.classList.remove('hidden');
        };
        document.getElementById('closeLyricsBtn').onclick = () => overlay.classList.add('hidden');
        overlay.onclick = (e) => { if(e.target === overlay) overlay.classList.add('hidden'); };

        // SW PWA
        if ('serviceWorker' in navigator) { navigator.serviceWorker.register('sw.js').catch(()=>{}); }
    </script>
</body>
</html>
